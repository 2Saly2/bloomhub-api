<div class="bg-white rounded-lg shadow p-6">
	<% if (typeof user !== 'undefined' && user) { %>
		<h1 class="text-2xl font-semibold mb-2">Welcome back, <%= user.username %> ðŸ‘‹</h1>
		<p class="text-gray-600 mb-4">Here are your recent projects and quick actions.</p>

		<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
		  <div class="p-4 bg-gray-50 rounded"> <!-- placeholder stat -->
		    <div class="text-sm text-gray-500">Projects</div>
		    <div class="text-xl font-bold">â€”</div>
		  </div>
		  <div class="p-4 bg-gray-50 rounded">
		    <div class="text-sm text-gray-500">Active</div>
		    <div class="text-xl font-bold">â€”</div>
		  </div>
		  <div class="p-4 bg-gray-50 rounded">
		    <div class="text-sm text-gray-500">Members</div>
		    <div class="text-xl font-bold">â€”</div>
		  </div>
		</div>

	  <% } else { %>
		<div class="text-center py-12">
			<h1 class="text-3xl font-bold mb-4">Build and showcase your projects with BloomHub</h1>
			<p class="text-gray-600 mb-6">Create projects, collaborate with your team, and share progress.</p>
			<div class="flex justify-center gap-3">
				<a href="/auth/register" class="bg-emerald-600 text-white px-4 py-2 rounded">Get Started</a>
				<a href="/auth/login" class="text-gray-700 px-4 py-2 rounded border">Login</a>
			</div>
		</div>
	<% } %>
  
	<!-- Latest Projects (all users) -->
	<section class="mt-6">
		<h2 class="text-lg font-semibold mb-4">Latest Projects</h2>

		<% if (projects && projects.length) { %>
			<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
				<% projects.slice(0,9).forEach(function(project) { %>
					<div class="bg-white rounded-lg shadow overflow-hidden">
						<% if (project.image) { %>
							<div class="h-40 w-full overflow-hidden">
								<img src="<%= project.image %>" alt="<%= project.name %>" class="w-full h-full object-cover" />
							</div>
						<% } %>
						<div class="p-4">
							<div class="flex justify-between items-center mb-2">
								<h3 class="font-medium text-gray-800"><%= project.name %></h3>
								<span class="text-xs text-gray-500"><%= new Date(project.createdAt).toLocaleDateString() %></span>
							</div>
							<p class="text-gray-600 text-sm mb-3"><%= project.description || 'No description' %></p>
							<div class="flex justify-between items-center text-sm text-gray-500">
								<div>Owner: <%= project.owner?.username || 'Unknown' %></div>
								<a href="/projects" class="text-emerald-600 hover:underline">View</a>
							</div>
						</div>
					</div>
				<% }) %>
			</div>
		<% } else { %>
			<div class="text-gray-500">No projects yet â€” create one to get started.</div>
		<% } %>
	</section>
</div>
